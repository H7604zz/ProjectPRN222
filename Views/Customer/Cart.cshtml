@model IEnumerable<ProjectPrn222.Models.DTO.CartViewModel>

@{
	ViewData["Title"] = "Giỏ hàng";
}

@{
	var subtotal = 0f;
}

<body>
    <!--PreLoader-->
    <div class="loader">
        <div class="loader-inner">
            <div class="circle"></div>
        </div>
    </div>
    <!--PreLoader Ends-->
	<!-- cart -->
	<div class="cart-section mt-3">
		<div class="container">
			<div class="row">
				<div class="col-lg-8 col-md-12">
					<div class="cart-table-wrap">
						<table class="cart-table">
							<thead class="cart-table-head">
								<tr class="table-head-row">
									<th class="product-remove"></th>
									<th class="product-image">Hình ảnh</th>
									<th class="product-name">Tên sản phẩm</th>
									<th class="product-price">Giá</th>
									<th class="product-quantity">Số lượng</th>
									<th class="product-total">Tổng</th>
								</tr>
							</thead>
							<tbody>
								@foreach(var item in Model)
								{
									<tr class="table-body-row">
										<td class="product-remove"><a href="#"><i class="far fa-window-close"></i></a></td>
										<td class="ratio ratio-1x1" style="width: 100px; margin: 0 auto;"><img src="@item.ProductImage" alt=""></td>
										<td class="product-name">@item.ProductName</td>
										<td class="product-price">@($"{item.Price:N0}")</td>
										<td class="product-quantity"><input type="number" placeholder="0" value="@item.QuantityInCart"></td>
										<td class="product-total">@item.TotalPrice</td>
									</tr>
									//tính chi phí tạm tính
									subtotal += item.TotalPrice;
								}
							</tbody>
						</table>
					</div>
				</div>

				<div class="col-lg-4">
					<div class="total-section">
						<table class="total-table">
							<thead class="total-table-head">
								<tr class="table-total-row">
									<th>Tổng</th>
									<th>Giá</th>
								</tr>
							</thead>
							<tbody>
								<tr class="total-data">
									<td><strong>Tạm tính: </strong></td>
									<td>@($"{subtotal:N0} VNĐ")</td>
								</tr>
								<tr class="total-data">
									<td><strong>Phí ship: </strong></td>
									<td>@($"{ViewBag.Shipping:N0} VNĐ")</td>
								</tr>
								<tr class="total-data">
									<td><strong>Tổng cộng: </strong></td>
									<td>@($"{(subtotal + ViewBag.Shipping):N0} VNĐ")</td>
								</tr>
							</tbody>
						</table>
						<div class="cart-buttons">
							<a asp-action="Cart" class="boxed-btn">Làm mới giỏ hàng</a>
							<a asp-action="CheckOut" class="boxed-btn black">Thanh toán</a>
						</div>
					</div>

					<div class="coupon-section">
						<h3>Áp dụng mã giảm giá</h3>
						<div class="coupon-form-wrap">
							<form action="index.html">
								<p><input type="text" placeholder="Coupon"></p>
								<p><input type="submit" value="Apply"></p>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- end cart -->

</body>


@section Scripts {
    <script>

	</script>
}